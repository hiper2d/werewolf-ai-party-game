Help me to improve logging in the application. I want to see every AI API call to be logger in the following way:
- A message that a certain bot is being asked. There should be a timestamp, a bot name, and a bot model
- A bot's history. This part is tricky because it can be long, and each single message in the history can also be very long. Some Game Master command messages contains a list of other bots messages. I think we should log the message history when converting database message into bot's history in the @message-utils.ts When a message is pushed into the aiMessages, we can log it with the message role and the truncated content (one line, no longer than 50 characters). If there are other players messages, I want to see them in logs as well: each message on a new line with an author name and the text (one line, no longer than 50 characters)
- Some logs are duplicated becase I have them in different layers: a model reply, an SSE is being used. In fact, I only want to see the models calls in the logs